{% extends "main/base.html" %}
{% load static %}

{% block content %}

{% if results %}
    <ul>
        {% for book in results %}
            <li>
                {% if book.olid %}
                    <a href="{% url 'review_app:book_detail' book.olid %}">{{ book.title }}</a>  {# Link using OLID #}
                {% elif book.isbn and book.isbn.0 %}
                    <a href="{% url 'review_app:book_detail' book.isbn.0 %}">{{ book.title }}</a>  {# Fallback to first ISBN #}
                {% else %}
                    {{ book.title }}  {# No identifier available #}
                {% endif %}

                {% if book.author_name %}
                    by {{ book.author_name|join:", " }}
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No books found.</p>
{% endif %}

<a href="/">Back to Home</a>

{% endblock %}
